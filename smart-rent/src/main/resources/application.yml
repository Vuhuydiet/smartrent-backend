server:
  port: 8080

spring:
  application:
    name: smart-rent
  datasource:
    driverClassName: com.mysql.cj.jdbc.Driver
    url: ${IDENTITY_SERVICE_DB_URL}
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true
    baseline-version: 0
    validate-on-migrate: true
    out-of-order: false
  jpa:
    database: MYSQL
    openInView: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQL8Dialect
        jdbc:
          batch_size: 25
          batch_versioned_data: true
          time_zone: UTC
        order_inserts: true
        order_updates: true
        show_sql: false
        connection:
          provider_disables_autocommit: false
          handling_mode: DELAYED_ACQUISITION_AND_RELEASE_AFTER_TRANSACTION

application:
  client-url: "${CLIENT_URL:http://localhost:3000}"
  authorize-ignored:
    methods:
      get:
        - "/swagger-ui/**"
        - "/swagger-ui.html"
        - "/v3/api-docs/**"
        - "/v3/api-docs"
        - "/swagger-resources/**"
        - "/webjars/**"
        - "/actuator/health"
        - "/actuator/**"
      post:
        - "/v1/auth/**"
        - "/v1/users"
        - "/v1/admins"
  authentication:
    jwt:
      access-signer-key: "${ACCESS_SIGNER_KEY}"
      refresh-signer-key: "${REFRESH_SIGNER_KEY}"
      valid-duration: "${VALID_DURATION}"
      refreshable-duration: "${REFRESHABLE_DURATION}"
  api-key:
    brevo: "${BREVO_API_KEY}"
  email:
    sender:
      email: "${SENDER_EMAIL}"
      name: "${SENDER_NAME:SmartRent}"
    subject: "SmartRent"
  otp:
    length: 6
    duration: 60 #s
feign:
  client:
    config:
      brevo:
        url: "${BREVO_URL}"

springdoc:
  api-docs:
    path: /v3/api-docs
  swagger-ui:
    path: /swagger-ui.html
    enabled: true

open:
  api:
    title: "SmartRent API"
    version: "v1.0.0"
    description: "API for SmartRent Application"
    server:
      url: "http://localhost:8080"
      description: "Local Server."
    group:
      package-to-scan: "com.smartrent.controller"