{
  "info": {
    "name": "SmartRent Address API",
    "description": "Complete collection for SmartRent internal Address API - all 13 endpoints for Vietnamese administrative divisions (Province/District/Ward)",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "1.0.0"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8080",
      "type": "string"
    },
    {
      "key": "apiVersion",
      "value": "v1",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Code-based Operations",
      "description": "RESTful code-based endpoints for current administrative structure",
      "item": [
        {
          "name": "Get All Provinces",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/{{apiVersion}}/provinces",
              "host": ["{{baseUrl}}"],
              "path": ["api", "{{apiVersion}}", "provinces"]
            },
            "description": "Get all active provinces (63 provinces total). Returns only parent provinces (no merged provinces)."
          },
          "response": [
            {
              "name": "Success Example",
              "originalRequest": {
                "method": "GET",
                "url": {
                  "raw": "{{baseUrl}}/api/{{apiVersion}}/provinces"
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "body": "{\n  \"data\": [\n    {\n      \"code\": \"01\",\n      \"name\": \"Thành phố Hà Nội\",\n      \"type\": \"CITY\",\n      \"isMerged\": false,\n      \"isActive\": true\n    },\n    {\n      \"code\": \"79\",\n      \"name\": \"Thành phố Hồ Chí Minh\",\n      \"type\": \"CITY\",\n      \"isMerged\": false,\n      \"isActive\": true\n    }\n  ]\n}"
            }
          ]
        },
        {
          "name": "Get Districts by Province Code",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/{{apiVersion}}/provinces/:provinceCode/districts",
              "host": ["{{baseUrl}}"],
              "path": ["api", "{{apiVersion}}", "provinces", ":provinceCode", "districts"],
              "variable": [
                {
                  "key": "provinceCode",
                  "value": "01",
                  "description": "Province code (e.g., 01 for Hanoi, 79 for HCM)"
                }
              ]
            },
            "description": "Get all districts for a specific province using province code. Example: Use '01' for Hanoi districts."
          },
          "response": [
            {
              "name": "Success Example - Hanoi Districts",
              "originalRequest": {
                "method": "GET",
                "url": {
                  "raw": "{{baseUrl}}/api/{{apiVersion}}/provinces/01/districts"
                }
              },
              "status": "OK",
              "code": 200,
              "body": "{\n  \"data\": [\n    {\n      \"code\": \"001\",\n      \"name\": \"Quận Ba Đình\",\n      \"type\": \"DISTRICT\",\n      \"provinceCode\": \"01\",\n      \"provinceName\": \"Thành phố Hà Nội\"\n    },\n    {\n      \"code\": \"002\",\n      \"name\": \"Quận Hoàn Kiếm\",\n      \"type\": \"DISTRICT\",\n      \"provinceCode\": \"01\",\n      \"provinceName\": \"Thành phố Hà Nội\"\n    }\n  ]\n}"
            }
          ]
        },
        {
          "name": "Get Wards by District Code",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/{{apiVersion}}/districts/:districtCode/wards",
              "host": ["{{baseUrl}}"],
              "path": ["api", "{{apiVersion}}", "districts", ":districtCode", "wards"],
              "variable": [
                {
                  "key": "districtCode",
                  "value": "001",
                  "description": "District code (e.g., 001 for Ba Dinh, Hanoi)"
                }
              ]
            },
            "description": "Get all wards for a specific district using district code. Example: Use '001' for Ba Dinh district wards."
          },
          "response": [
            {
              "name": "Success Example - Ba Dinh Wards",
              "originalRequest": {
                "method": "GET",
                "url": {
                  "raw": "{{baseUrl}}/api/{{apiVersion}}/districts/001/wards"
                }
              },
              "status": "OK",
              "code": 200,
              "body": "{\n  \"data\": [\n    {\n      \"code\": \"00001\",\n      \"name\": \"Phường Phúc Xá\",\n      \"type\": \"WARD\",\n      \"districtCode\": \"001\",\n      \"districtName\": \"Quận Ba Đình\"\n    },\n    {\n      \"code\": \"00002\",\n      \"name\": \"Phường Trúc Bạch\",\n      \"type\": \"WARD\",\n      \"districtCode\": \"001\",\n      \"districtName\": \"Quận Ba Đình\"\n    }\n  ]\n}"
            }
          ]
        },
        {
          "name": "Get Full Address",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/{{apiVersion}}/full-address?provinceCode=01&districtCode=001&wardCode=00001",
              "host": ["{{baseUrl}}"],
              "path": ["api", "{{apiVersion}}", "full-address"],
              "query": [
                {
                  "key": "provinceCode",
                  "value": "01",
                  "description": "Province code"
                },
                {
                  "key": "districtCode",
                  "value": "001",
                  "description": "District code"
                },
                {
                  "key": "wardCode",
                  "value": "00001",
                  "description": "Ward code"
                }
              ]
            },
            "description": "Build complete address hierarchy from province, district, and ward codes. Returns full formatted address text."
          },
          "response": [
            {
              "name": "Success Example",
              "originalRequest": {
                "method": "GET",
                "url": {
                  "raw": "{{baseUrl}}/api/{{apiVersion}}/full-address?provinceCode=01&districtCode=001&wardCode=00001"
                }
              },
              "status": "OK",
              "code": 200,
              "body": "{\n  \"data\": {\n    \"province\": {\n      \"code\": \"01\",\n      \"name\": \"Thành phố Hà Nội\",\n      \"type\": \"CITY\"\n    },\n    \"district\": {\n      \"code\": \"001\",\n      \"name\": \"Quận Ba Đình\",\n      \"type\": \"DISTRICT\"\n    },\n    \"ward\": {\n      \"code\": \"00001\",\n      \"name\": \"Phường Phúc Xá\",\n      \"type\": \"WARD\"\n    },\n    \"fullAddressText\": \"Phường Phúc Xá, Quận Ba Đình, Thành phố Hà Nội\"\n  }\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "New Administrative Structure",
      "description": "Endpoints for new administrative structure (includes merged provinces)",
      "item": [
        {
          "name": "Get New Provinces (Including Merged)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/{{apiVersion}}/new-provinces",
              "host": ["{{baseUrl}}"],
              "path": ["api", "{{apiVersion}}", "new-provinces"]
            },
            "description": "Get all provinces including merged ones (e.g., Hà Tây merged into Hà Nội in 2008). Shows parent-child relationships."
          },
          "response": [
            {
              "name": "Success Example with Merged Province",
              "originalRequest": {
                "method": "GET",
                "url": {
                  "raw": "{{baseUrl}}/api/{{apiVersion}}/new-provinces"
                }
              },
              "status": "OK",
              "code": 200,
              "body": "{\n  \"data\": [\n    {\n      \"code\": \"01\",\n      \"name\": \"Thành phố Hà Nội\",\n      \"type\": \"CITY\",\n      \"isMerged\": false,\n      \"isActive\": true\n    },\n    {\n      \"code\": \"35\",\n      \"name\": \"Tỉnh Hà Tây\",\n      \"type\": \"PROVINCE\",\n      \"isMerged\": true,\n      \"parentProvinceCode\": \"01\",\n      \"isActive\": true\n    }\n  ]\n}"
            }
          ]
        },
        {
          "name": "Get Wards by Province Code (Flattened)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/{{apiVersion}}/new-provinces/:provinceCode/wards",
              "host": ["{{baseUrl}}"],
              "path": ["api", "{{apiVersion}}", "new-provinces", ":provinceCode", "wards"],
              "variable": [
                {
                  "key": "provinceCode",
                  "value": "01",
                  "description": "Province code"
                }
              ]
            },
            "description": "Get all wards directly by province code (flattened structure, bypassing districts). Useful for new administrative approach."
          },
          "response": []
        },
        {
          "name": "Get New Full Address",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/{{apiVersion}}/new-full-address?provinceCode=01&districtCode=001&wardCode=00001",
              "host": ["{{baseUrl}}"],
              "path": ["api", "{{apiVersion}}", "new-full-address"],
              "query": [
                {
                  "key": "provinceCode",
                  "value": "01"
                },
                {
                  "key": "districtCode",
                  "value": "001"
                },
                {
                  "key": "wardCode",
                  "value": "00001"
                }
              ]
            },
            "description": "Build full address using new administrative codes (handles merged provinces/wards)."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Search",
      "description": "Address search endpoints with relevance scoring",
      "item": [
        {
          "name": "Search Address (Old Structure)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/{{apiVersion}}/search-address?q=Hà Nội&limit=20",
              "host": ["{{baseUrl}}"],
              "path": ["api", "{{apiVersion}}", "search-address"],
              "query": [
                {
                  "key": "q",
                  "value": "Hà Nội",
                  "description": "Search query (province, district, or ward name)"
                },
                {
                  "key": "limit",
                  "value": "20",
                  "description": "Max results (1-100, default 20)"
                }
              ]
            },
            "description": "Search addresses using old/current administrative structure. Returns matches with relevance scores (0.0-1.0)."
          },
          "response": [
            {
              "name": "Success Example",
              "originalRequest": {
                "method": "GET",
                "url": {
                  "raw": "{{baseUrl}}/api/{{apiVersion}}/search-address?q=Ba Đình&limit=10"
                }
              },
              "status": "OK",
              "code": 200,
              "body": "{\n  \"data\": {\n    \"query\": \"Ba Đình\",\n    \"totalResults\": 5,\n    \"matches\": [\n      {\n        \"provinceCode\": \"01\",\n        \"provinceName\": \"Thành phố Hà Nội\",\n        \"districtCode\": \"001\",\n        \"districtName\": \"Quận Ba Đình\",\n        \"wardCode\": \"00001\",\n        \"wardName\": \"Phường Phúc Xá\",\n        \"fullAddress\": \"Phường Phúc Xá, Quận Ba Đình, Thành phố Hà Nội\",\n        \"matchScore\": 0.95,\n        \"isActive\": true,\n        \"isMerged\": false\n      }\n    ]\n  }\n}"
            }
          ]
        },
        {
          "name": "Search Address (New Structure)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/{{apiVersion}}/search-new-address?q=Hà Tây&limit=20",
              "host": ["{{baseUrl}}"],
              "path": ["api", "{{apiVersion}}", "search-new-address"],
              "query": [
                {
                  "key": "q",
                  "value": "Hà Tây",
                  "description": "Search query (includes merged entities)"
                },
                {
                  "key": "limit",
                  "value": "20",
                  "description": "Max results (1-100)"
                }
              ]
            },
            "description": "Search addresses using new administrative structure (includes merged provinces and wards)."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Address Conversion",
      "description": "Convert addresses from old to new administrative structure",
      "item": [
        {
          "name": "Convert Single Address",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/{{apiVersion}}/convert/address?provinceCode=35&districtCode=001&wardCode=00001",
              "host": ["{{baseUrl}}"],
              "path": ["api", "{{apiVersion}}", "convert", "address"],
              "query": [
                {
                  "key": "provinceCode",
                  "value": "35",
                  "description": "Old province code (e.g., 35 = Hà Tây)"
                },
                {
                  "key": "districtCode",
                  "value": "001",
                  "description": "District code"
                },
                {
                  "key": "wardCode",
                  "value": "00001",
                  "description": "Ward code"
                }
              ]
            },
            "description": "Convert single address from old to new administrative structure. Handles province/ward mergers and reorganizations."
          },
          "response": [
            {
              "name": "Province Merge Example",
              "originalRequest": {
                "method": "POST",
                "url": {
                  "raw": "{{baseUrl}}/api/{{apiVersion}}/convert/address?provinceCode=35&districtCode=001&wardCode=00001"
                }
              },
              "status": "OK",
              "code": 200,
              "body": "{\n  \"data\": {\n    \"oldAddress\": {\n      \"provinceCode\": \"35\",\n      \"provinceName\": \"Tỉnh Hà Tây\",\n      \"districtCode\": \"001\",\n      \"districtName\": \"Huyện Ba Vì\",\n      \"wardCode\": \"00001\",\n      \"wardName\": \"Xã Ba Trại\"\n    },\n    \"newAddress\": {\n      \"provinceCode\": \"01\",\n      \"provinceName\": \"Thành phố Hà Nội\",\n      \"districtCode\": \"001\",\n      \"districtName\": \"Huyện Ba Vì\",\n      \"wardCode\": \"00001\",\n      \"wardName\": \"Xã Ba Trại\"\n    },\n    \"conversionInfo\": {\n      \"wasConverted\": true,\n      \"conversionType\": \"PROVINCE_MERGE\",\n      \"effectiveDate\": \"2008-05-01\",\n      \"notes\": \"Hà Tây merged into Hà Nội on May 1, 2008\"\n    }\n  }\n}"
            }
          ]
        },
        {
          "name": "Batch Convert Addresses",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"addresses\": [\n    {\n      \"provinceCode\": \"01\",\n      \"districtCode\": \"001\",\n      \"wardCode\": \"00001\"\n    },\n    {\n      \"provinceCode\": \"79\",\n      \"districtCode\": \"760\",\n      \"wardCode\": \"26734\"\n    },\n    {\n      \"provinceCode\": \"35\",\n      \"districtCode\": \"001\",\n      \"wardCode\": \"00001\"\n    }\n  ]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/api/{{apiVersion}}/convert/batch",
              "host": ["{{baseUrl}}"],
              "path": ["api", "{{apiVersion}}", "convert", "batch"]
            },
            "description": "Batch convert multiple addresses (max 1000 addresses per request). Returns conversion results for all addresses."
          },
          "response": [
            {
              "name": "Batch Conversion Example",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"addresses\": [\n    {\n      \"provinceCode\": \"01\",\n      \"districtCode\": \"001\",\n      \"wardCode\": \"00001\"\n    },\n    {\n      \"provinceCode\": \"35\",\n      \"districtCode\": \"001\",\n      \"wardCode\": \"00001\"\n    }\n  ]\n}"
                }
              },
              "status": "OK",
              "code": 200,
              "body": "{\n  \"data\": [\n    {\n      \"oldAddress\": {...},\n      \"newAddress\": {...},\n      \"conversionInfo\": {\n        \"wasConverted\": false,\n        \"conversionType\": \"NONE\"\n      }\n    },\n    {\n      \"oldAddress\": {...},\n      \"newAddress\": {...},\n      \"conversionInfo\": {\n        \"wasConverted\": true,\n        \"conversionType\": \"PROVINCE_MERGE\",\n        \"effectiveDate\": \"2008-05-01\"\n      }\n    }\n  ]\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "Merge History",
      "description": "Track administrative reorganization history",
      "item": [
        {
          "name": "Get Province Merge History",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/{{apiVersion}}/merge-history/province/:code",
              "host": ["{{baseUrl}}"],
              "path": ["api", "{{apiVersion}}", "merge-history", "province", ":code"],
              "variable": [
                {
                  "key": "code",
                  "value": "35",
                  "description": "Province code (e.g., 35 for Hà Tây)"
                }
              ]
            },
            "description": "Get province merge history. Shows if province was merged, when, and into what province."
          },
          "response": [
            {
              "name": "Merged Province Example",
              "originalRequest": {
                "method": "GET",
                "url": {
                  "raw": "{{baseUrl}}/api/{{apiVersion}}/merge-history/province/35"
                }
              },
              "status": "OK",
              "code": 200,
              "body": "{\n  \"data\": {\n    \"entityCode\": \"35\",\n    \"entityName\": \"Tỉnh Hà Tây\",\n    \"entityType\": \"PROVINCE\",\n    \"isMerged\": true,\n    \"mergeDate\": \"2008-05-01\",\n    \"mergedInto\": {\n      \"code\": \"01\",\n      \"name\": \"Thành phố Hà Nội\",\n      \"effectiveDate\": \"2008-05-01\"\n    },\n    \"mergedFrom\": []\n  }\n}"
            },
            {
              "name": "Not Merged Province Example",
              "originalRequest": {
                "method": "GET",
                "url": {
                  "raw": "{{baseUrl}}/api/{{apiVersion}}/merge-history/province/79"
                }
              },
              "status": "OK",
              "code": 200,
              "body": "{\n  \"data\": {\n    \"entityCode\": \"79\",\n    \"entityName\": \"Thành phố Hồ Chí Minh\",\n    \"entityType\": \"PROVINCE\",\n    \"isMerged\": false,\n    \"mergeDate\": null,\n    \"mergedInto\": null,\n    \"mergedFrom\": []\n  }\n}"
            }
          ]
        },
        {
          "name": "Get Ward Merge History",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/{{apiVersion}}/merge-history/ward/:code",
              "host": ["{{baseUrl}}"],
              "path": ["api", "{{apiVersion}}", "merge-history", "ward", ":code"],
              "variable": [
                {
                  "key": "code",
                  "value": "00001",
                  "description": "Ward code"
                }
              ]
            },
            "description": "Get ward merge history. Shows if ward was merged, when, and into what ward."
          },
          "response": [
            {
              "name": "Not Merged Ward Example",
              "originalRequest": {
                "method": "GET",
                "url": {
                  "raw": "{{baseUrl}}/api/{{apiVersion}}/merge-history/ward/00001"
                }
              },
              "status": "OK",
              "code": 200,
              "body": "{\n  \"data\": {\n    \"entityCode\": \"00001\",\n    \"entityName\": \"Phường Phúc Xá\",\n    \"entityType\": \"WARD\",\n    \"isMerged\": false,\n    \"mergeDate\": null,\n    \"mergedInto\": null,\n    \"mergedFrom\": []\n  }\n}"
            }
          ]
        }
      ]
    }
  ]
}
